(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/center/center"],{"0dce":function(e,t,n){"use strict";n.r(t);var a=n("457b"),o=n("6c95");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("7412");var i,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=s.exports},"1f6e":function(e,t,n){"use strict";(function(e){n("e090");a(n("66fd"));var t=a(n("0dce"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"3c7b":function(e,t,n){},"457b":function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}))},"53d5":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("941f"),o=n("0c3d");r(n("7eeb"));function r(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{isAlreadyLogin:e.getStorageSync("isAlreadyLogin")||"",isGetTreatCard:!1,iconUrl:"/static/center/",gender:1,avatarUrl:e.getStorageSync("avatarUrl"),userBaseInfo:{name:"",phone:""},cardID:e.getStorageSync("cardID")||""}},onPullDownRefresh:function(){this.getUserInfo(),this.isAlreadyLogin=e.getStorageSync("isAlreadyLogin")},methods:{turnLogin:function(){e.navigateTo({url:"/pagesB/pages/center/login/login"})},toCardList:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesB/pages/center/cardList/cardList"}):(0,a.error)("登录")},toAwaitingQueue:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/awaitingQueue/awaitingQueue"}):(0,a.error)("登录")},toCreditDetail:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/creditDetail/creditDetail"}):(0,a.error)("登录")},toAppointRecord:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/appointRecord/appointRecord"}):(0,a.error)("登录")},toTreatRecord:function(){this.isAlreadyLogin?e.navigateTo({url:"/pagesA/pages/treatRecord/treatRecord"}):(0,a.error)("登录")},toAboutUs:function(){e.navigateTo({url:"/pagesA/pages/aboutUs/aboutUs"})},toBaseInfo:function(){e.navigateTo({url:"/pagesB/pages/center/baseInfo/baseInfo"})},outLogin:function(){var t=this;e.showModal({title:"退出登录",content:"是否退出登录？",confirmText:"确认",cancelText:"取消",success:function(n){n.confirm&&(e.removeStorageSync("isAlreadyLogin"),e.removeStorageSync("cardID"),t.isAlreadyLogin=!1)}})},getUserInfo:function(){var t=this;e.showLoading({title:"信息加载中"}),(0,o.getUserBaseInfo)().then((function(n){var a=n.data.data.basicInfo;t.userBaseInfo.name=a.name,t.userBaseInfo.avatarUrl=a.avatarUrl,t.userBaseInfo.phone=a.phone,console.log(t.userBaseInfo+"-----------"),e.setStorageSync("accountID",n.data.data.account.id),e.setStorageSync("userID",a.id),t.getMyselfCardInfo(),e.setStorageSync("userInfo",JSON.stringify(t.userBaseInfo)),e.hideLoading()})).catch((function(){e.hideLoading(),(0,a.error)("获取用户基本信息失败")}))},getMyselfCardInfo:function(){var t=this;(0,o.getUserCardInfo)(e.getStorageSync("accountID")).then((function(n){if(200===n.data.code){var a=n.data.data;a.length>0&&a.forEach((function(n,a){if(0===n.type)return e.setStorageSync("cardID",n.id),t.cardID=n.id,void wx.stopPullDownRefresh()})),e.hideLoading()}})).catch((function(){e.hideLoading(),(0,a.error)("网络")}))}},onShow:function(){console.log("avatarUrl ====center===="+e.getStorageSync("avatarUrl")),e.hideLoading(),e.getStorageSync("isAlreadyLogin")&&(this.getUserInfo(),console.log("useinfo :"+this.userBaseInfo.avatarUrl)),this.isAlreadyLogin=e.getStorageSync("isAlreadyLogin")}};t.default=i}).call(this,n("543d")["default"])},"6c95":function(e,t,n){"use strict";n.r(t);var a=n("53d5"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},7412:function(e,t,n){"use strict";var a=n("3c7b"),o=n.n(a);o.a}},[["1f6e","common/runtime","common/vendor"]]]);